{"version":3,"sources":["webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?bb8a","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?5580","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?63a4","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?9ac3","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?1306","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?8d6a","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./node_modules/babel-runtime/helpers/slicedToArray.js","webpack:///./src/constants/manage.js","webpack:///./node_modules/babel-runtime/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./src/pages/admin/manage/SourceEdit/PackageEdit.vue?4e03","webpack:///src/pages/admin/manage/SourceEdit/PackageEdit.vue","webpack:///./src/pages/admin/manage/SourceEdit/PackageForm.vue?55bd","webpack:///src/pages/admin/manage/SourceEdit/PackageForm.vue"],"names":["__webpack_require__","r","__webpack_exports__","_PackageForm_vue_vue_type_template_id_09a71044_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_PackageForm_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageForm_vue_vue_type_style_index_0_id_09a71044_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","n","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageEdit_vue_vue_type_style_index_0_id_f8b1c9c4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","id","attrs","source-index","value","on","updateSource","deleteSource","$event","_v","click","onCreateSource","_s","i18n","addPackage","theme","onNextStepClick","nextStep","to","cancel","staticRenderFns","class","fold","isSettingPanelShow","onTogglePanelShow","sourceName","name","noName","size","onDeleteSource","delete","errorMsg","_e","directives","rawName","expression","error-border","errors","first","type","disabled","isEditing","domProps","blur","onPackageNameBlur","input","target","composing","modifiers","top","popover-width","searchable","selected","onTypeSelect","model","callback","$$v","option","desc","rows","onPackageDescBlur","detail","field","details","placeholder","onDetailInputBlur","$set","module","subModule","version","importModule","operation","onPackageInputBlur","importPlaceholder","packageValues","length","onDeletePackage","onAddPackage","add","required","_PackageEdit_vue_vue_type_template_id_f8b1c9c4_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_PackageEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","exports","default","__esModule","anObject","get","getIterator","it","iterFn","TypeError","call","_isIterable3","_interopRequireDefault","_getIterator3","obj","arr","i","Array","isArray","_arr","_n","_d","_i","next","done","push","err","SOURCE_TYPE","gettext","keys","repo_address","repo_raw_address","branch","service_address","bucket","access_key","secret_key","path","classof","ITERATOR","Iterators","isIterable","O","hasOwnProperty","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageEdit_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","components","PackageForm","_PackageForm2","props","originList","data","list","_tools2","deepClone","watch","val","methods","packages","_this","packageValidations","$children","filter","$options","map","comp","validate","_promise2","all","then","results","every","$router","splice","$emit","source","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageForm_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_PackageForm_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","_manage","_index","sourceIndex","Number","getSourceTypeList","_value","getPackageValues","_getSourceKeys","getSourceKeys","detailFields","_slicedToArray3","showError","showModuleError","packageNameRule","max","STRING_LENGTH","SOURCE_NAME_MAX_LENGTH","regex","NAME_REG","valueRule","computed","detailValues","find","values","_stringify2","modules","join","getPackages","forEach","updateValue","$validator","validateAll","result","_this2","_getSourceKeys3","_getSourceKeys4","_keys2","e","split"],"mappings":"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","file":"dev/dist/js/26.js","sourcesContent":["import { render, staticRenderFns } from \"./PackageForm.vue?vue&type=template&id=09a71044&scoped=true&\"\nimport script from \"./PackageForm.vue?vue&type=script&lang=js&\"\nexport * from \"./PackageForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PackageForm.vue?vue&type=style&index=0&id=09a71044&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09a71044\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=style&index=0&id=09a71044&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=style&index=0&id=09a71044&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=style&index=0&id=f8b1c9c4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=style&index=0&id=f8b1c9c4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"package-edit\"},[_c('div',{staticClass:\"source-centent\"},[_vm._l((_vm.list),function(item,index){return [_c('package-form',{key:item.id,attrs:{\"source-index\":index,\"value\":item},on:{\"updateSource\":_vm.updateSource,\"deleteSource\":function($event){return _vm.deleteSource(index)}}})]}),_vm._v(\" \"),_c('div',{staticClass:\"add-package\",on:{\"click\":_vm.onCreateSource}},[_vm._v(_vm._s(_vm.i18n.addPackage))])],2),_vm._v(\" \"),_c('div',{staticClass:\"operate-area\"},[_c('bk-button',{staticClass:\"next-step\",attrs:{\"theme\":\"success\"},on:{\"click\":_vm.onNextStepClick}},[_vm._v(\"\\n            \"+_vm._s(_vm.i18n.nextStep)+\"\\n        \")]),_vm._v(\" \"),_c('router-link',{staticClass:\"bk-button bk-default\",attrs:{\"to\":\"/admin/manage/source_manage/\"}},[_vm._v(_vm._s(_vm.i18n.cancel))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=template&id=f8b1c9c4&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"package-form\"},[_c('div',{staticClass:\"form-header\"},[_c('div',{class:['title', { 'fold': !_vm.isSettingPanelShow }],on:{\"click\":_vm.onTogglePanelShow}},[_vm._v(\"\\n            \"+_vm._s(_vm.i18n.sourceName)+\": \"+_vm._s(_vm.name || _vm.i18n.noName)+\"\\n        \")]),_vm._v(\" \"),_c('bk-button',{staticClass:\"delete-btn\",attrs:{\"theme\":\"default\",\"size\":\"small\"},on:{\"click\":_vm.onDeleteSource}},[_vm._v(\"\\n            \"+_vm._s(_vm.i18n.delete)+\"\\n        \")]),_vm._v(\" \"),(_vm.showError)?_c('div',{staticClass:\"error-msg\"},[_vm._v(_vm._s(_vm.i18n.errorMsg))]):_vm._e()],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSettingPanelShow),expression:\"isSettingPanelShow\"}],staticClass:\"package-setting\"},[_c('table',{staticClass:\"form-table\"},[_c('tbody',[_c('tr',[_c('th',[_c('div',{staticClass:\"form-label required\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.name))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"form-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.packageNameRule),expression:\"packageNameRule\"}],staticClass:\"package-name\",class:{ 'error-border': _vm.errors.first('packageName') },attrs:{\"type\":\"text\",\"name\":\"packageName\",\"disabled\":_vm.isEditing},domProps:{\"value\":(_vm.name)},on:{\"blur\":_vm.onPackageNameBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"bk-icon icon-info-circle common-error-tip\"})])])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label required\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.type))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"form-content\"},[_c('bk-select',{staticClass:\"bk-select-inline\",attrs:{\"disabled\":_vm.isEditing,\"popover-width\":260,\"searchable\":true},on:{\"selected\":_vm.onTypeSelect},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}},_vm._l((_vm.list),function(option,index){return _c('bk-option',{key:index,attrs:{\"id\":option.id,\"name\":option.name}})}),1)],1)])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.desc))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"form-content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.desc),expression:\"desc\"}],staticClass:\"package-desc\",attrs:{\"rows\":\"4\"},domProps:{\"value\":(_vm.desc)},on:{\"blur\":_vm.onPackageDescBlur,\"input\":function($event){if($event.target.composing){ return; }_vm.desc=$event.target.value}}})])])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.detail))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('table',{staticClass:\"detail-table\"},[_c('tbody',_vm._l((_vm.detailFields),function(field){return _c('tr',{key:field.id},[_c('th',[_vm._v(_vm._s(field.name))]),_vm._v(\" \"),_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('detailValue' + field.id) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.details[field.id]),expression:\"details[field.id]\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.valueRule),expression:\"valueRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'detailValue' + field.id,\"placeholder\":field.placeholder},domProps:{\"value\":(_vm.details[field.id])},on:{\"blur\":function($event){return _vm.onDetailInputBlur(field.id)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.details, field.id, $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"bk-icon icon-info-circle common-error-tip\"})])])}),0)])])]),_vm._v(\" \"),_c('tr',[_c('th',[_c('div',{staticClass:\"form-label\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.module))])])]),_vm._v(\" \"),_c('td',{staticClass:\"value\"},[_c('div',{staticClass:\"module-table-wrapper\"},[_c('table',{staticClass:\"module-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.i18n.subModule))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.i18n.version))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.i18n.importModule))]),_vm._v(\" \"),_c('th',[_vm._v(_vm._s(_vm.i18n.operation))])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.packageValues),function(item,index){return _c('tr',{key:index},[_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('moduleName' + index) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.key),expression:\"item.key\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.packageNameRule),expression:\"packageNameRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'moduleName' + index,\"placeholder\":_vm.i18n.placeholder},domProps:{\"value\":(item.key)},on:{\"blur\":function($event){return _vm.onPackageInputBlur($event, 'key', index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"key\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"bk-icon icon-info-circle common-error-tip\"})]),_vm._v(\" \"),_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('moduleVersion' + index) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.version),expression:\"item.version\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.valueRule),expression:\"valueRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'moduleVersion' + index,\"placeholder\":_vm.i18n.placeholder},domProps:{\"value\":(item.version)},on:{\"blur\":function($event){return _vm.onPackageInputBlur($event, 'version', index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"version\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"bk-icon icon-info-circle common-error-tip\"})]),_vm._v(\" \"),_c('td',{staticClass:\"td-with-input\",class:{ 'error-border': _vm.errors.first('modules' + index) }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.modules),expression:\"item.modules\"},{name:\"validate\",rawName:\"v-validate\",value:(_vm.valueRule),expression:\"valueRule\"}],staticClass:\"table-input\",attrs:{\"type\":\"text\",\"name\":'modules' + index,\"placeholder\":_vm.i18n.importPlaceholder},domProps:{\"value\":(item.modules)},on:{\"blur\":function($event){return _vm.onPackageInputBlur($event, 'modules', index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"modules\", $event.target.value)}}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips.top\",value:(_vm.i18n.required),expression:\"i18n.required\",modifiers:{\"top\":true}}],staticClass:\"bk-icon icon-info-circle common-error-tip\"})]),_vm._v(\" \"),_c('td',[(_vm.packageValues.length > 1)?_c('bk-button',{staticClass:\"delete-btn\",attrs:{\"theme\":\"default\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onDeletePackage(index)}}},[_vm._v(_vm._s(_vm.i18n.delete))]):_vm._e()],1)])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"add-module\"},[_c('bk-button',{staticClass:\"add-btn\",attrs:{\"theme\":\"default\",\"size\":\"small\"},on:{\"click\":_vm.onAddPackage}},[_vm._v(_vm._s(_vm.i18n.add))])],1),_vm._v(\" \"),(_vm.showModuleError)?_c('div',{staticClass:\"common-error-tip error-msg\"},[_vm._v(_vm._s(_vm.i18n.required))]):_vm._e()])])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=template&id=09a71044&scoped=true&\"","import { render, staticRenderFns } from \"./PackageEdit.vue?vue&type=template&id=f8b1c9c4&scoped=true&\"\nimport script from \"./PackageEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./PackageEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PackageEdit.vue?vue&type=style&index=0&id=f8b1c9c4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8b1c9c4\",\n  null\n  \n)\n\nexport default component.exports","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","\"use strict\";\n\nexports.__esModule = true;\n\nvar _isIterable2 = require(\"../core-js/is-iterable\");\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = require(\"../core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2019 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n\r\n// 包源类型\r\nconst SOURCE_TYPE = [\r\n    {\r\n        type: 'git',\r\n        name: gettext('GIT'),\r\n        keys: {\r\n            repo_address: {\r\n                name: gettext('仓库链接'),\r\n                placeholder: gettext('请输入 GIT 仓库地址，如 https://github.com/bk-sops/plugins_example.git')\r\n            },\r\n            repo_raw_address: {\r\n                name: gettext('文件托管仓库链接'),\r\n                placeholder: gettext('请输入仓库中文件的 Raw 链接的前缀，如 https://raw.githubusercontent.com/bk-sops/plugins_example/')\r\n            },\r\n            branch: {\r\n                name: gettext('分支名'),\r\n                placeholder: gettext('请输入分支名')\r\n            }\r\n        }\r\n    },\r\n    {\r\n        type: 's3',\r\n        name: gettext('S3'),\r\n        keys: {\r\n            service_address: {\r\n                name: gettext('对象存储服务地址'),\r\n                placeholder: ''\r\n            },\r\n            bucket: {\r\n                name: gettext('Bucket'),\r\n                placeholder: ''\r\n            },\r\n            access_key: {\r\n                name: gettext('Access Key'),\r\n                placeholder: ''\r\n            },\r\n            secret_key: {\r\n                name: gettext('Secret Key'),\r\n                placeholder: ''\r\n            }\r\n        }\r\n    },\r\n    {\r\n        type: 'fs',\r\n        name: gettext('文件系统'),\r\n        keys: {\r\n            path: {\r\n                name: gettext('服务器文件系统路径'),\r\n                placeholder: ''\r\n            }\r\n        }\r\n    }\r\n]\r\n\r\nexport { SOURCE_TYPE }\r\n","module.exports = { \"default\": require(\"core-js/library/fn/is-iterable\"), __esModule: true };","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageEdit.vue?vue&type=script&lang=js&\"","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2019 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n<template>\r\n    <div class=\"package-edit\">\r\n        <div class=\"source-centent\">\r\n            <template v-for=\"(item, index) in list\">\r\n                <package-form\r\n                    :key=\"item.id\"\r\n                    :source-index=\"index\"\r\n                    :value=\"item\"\r\n                    @updateSource=\"updateSource\"\r\n                    @deleteSource=\"deleteSource(index)\">\r\n                </package-form>\r\n            </template>\r\n            <div class=\"add-package\" @click=\"onCreateSource\">{{i18n.addPackage}}</div>\r\n        </div>\r\n        <div class=\"operate-area\">\r\n            <bk-button\r\n                theme=\"success\"\r\n                class=\"next-step\"\r\n                @click=\"onNextStepClick\">\r\n                {{ i18n.nextStep }}\r\n            </bk-button>\r\n            <router-link to=\"/admin/manage/source_manage/\" class=\"bk-button bk-default\">{{ i18n.cancel }}</router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import '@/utils/i18n.js'\r\n    import tools from '@/utils/tools.js'\r\n    import PackageForm from './PackageForm.vue'\r\n\r\n    export default {\r\n        name: 'PackageEdit',\r\n        components: {\r\n            PackageForm\r\n        },\r\n        props: {\r\n            originList: {\r\n                type: Array,\r\n                default () {\r\n                    return []\r\n                }\r\n            }\r\n        },\r\n        data () {\r\n            return {\r\n                list: tools.deepClone(this.originList),\r\n                i18n: {\r\n                    nextStep: gettext('下一步'),\r\n                    cancel: gettext('取消'),\r\n                    addPackage: gettext('添加主包源')\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            originList (val) {\r\n                this.list = tools.deepClone(val)\r\n            }\r\n        },\r\n        methods: {\r\n            onCreateSource () {\r\n                this.list.push({\r\n                    id: undefined,\r\n                    name: '',\r\n                    desc: '',\r\n                    type: 'git',\r\n                    packages: {},\r\n                    details: {\r\n                        repo_address: '',\r\n                        repo_raw_address: '',\r\n                        branch: ''\r\n                    }\r\n                })\r\n            },\r\n            onNextStepClick () {\r\n                const packageComps = this.$children.filter(item => item.$options.name === 'PackageForm')\r\n                const packageValidations = packageComps.map(comp => {\r\n                    return comp.validate()\r\n                })\r\n                Promise.all(packageValidations).then(results => {\r\n                    if (results.every(item => item)) {\r\n                        this.$router.push('/admin/manage/source_edit/cache_edit/')\r\n                    }\r\n                })\r\n            },\r\n            deleteSource (index) {\r\n                this.list.splice(index, 1)\r\n                this.$emit('updateList', 'originList', this.list)\r\n            },\r\n            updateSource (key, value, index) {\r\n                const val = tools.deepClone(value)\r\n                const source = tools.deepClone(this.list[index])\r\n                source[key] = val\r\n                this.list.splice(index, 1, source)\r\n                this.$emit('updateList', 'originList', this.list)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .package-edit {\r\n        height: calc(100% - 40px);\r\n        background: #ffffff;\r\n    }\r\n    .source-centent {\r\n        padding: 30px 60px 60px;\r\n        min-height: 100%;\r\n        background: #ffffff;\r\n    }\r\n    .add-package {\r\n        margin-bottom: 60px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        color: #c4c6cc;\r\n        font-size: 12px;\r\n        text-align: center;\r\n        border: 1px dashed #c4c6cc;\r\n        border-radius: 2px;\r\n        cursor: pointer;\r\n        &:hover {\r\n            color: #3a84ff;\r\n            border-color: #a3c5fd;\r\n        }\r\n    }\r\n    .operate-area {\r\n        margin-top: -60px;\r\n        padding: 0 60px;\r\n        height: 60px;\r\n        line-height: 60px;\r\n        border-top: 1px solid #cacedb;\r\n        .bk-button {\r\n            height: 32px;\r\n            line-height: 32px;\r\n            &:not(:last-child) {\r\n                margin-right: 6px;\r\n            }\r\n        }\r\n        .next-step {\r\n            width: 140px;\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PackageForm.vue?vue&type=script&lang=js&\"","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2019 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n<template>\r\n    <div class=\"package-form\">\r\n        <div class=\"form-header\">\r\n            <div\r\n                :class=\"['title', { 'fold': !isSettingPanelShow }]\"\r\n                @click=\"onTogglePanelShow\">\r\n                {{i18n.sourceName}}: {{ name || i18n.noName }}\r\n            </div>\r\n            <bk-button\r\n                theme=\"default\"\r\n                size=\"small\"\r\n                class=\"delete-btn\"\r\n                @click=\"onDeleteSource\">\r\n                {{i18n.delete}}\r\n            </bk-button>\r\n            <div class=\"error-msg\" v-if=\"showError\">{{i18n.errorMsg}}</div>\r\n        </div>\r\n        <div class=\"package-setting\" v-show=\"isSettingPanelShow\">\r\n            <table class=\"form-table\">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label required\">\r\n                                <label>{{i18n.name}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"form-content\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    class=\"package-name\"\r\n                                    name=\"packageName\"\r\n                                    v-model=\"name\"\r\n                                    v-validate=\"packageNameRule\"\r\n                                    :class=\"{ 'error-border': errors.first('packageName') }\"\r\n                                    :disabled=\"isEditing\"\r\n                                    @blur=\"onPackageNameBlur\">\r\n                                <i class=\"bk-icon icon-info-circle common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label required\">\r\n                                <label>{{i18n.type}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"form-content\">\r\n                                <bk-select\r\n                                    v-model=\"type\"\r\n                                    class=\"bk-select-inline\"\r\n                                    :disabled=\"isEditing\"\r\n                                    :popover-width=\"260\"\r\n                                    :searchable=\"true\"\r\n                                    @selected=\"onTypeSelect\">\r\n                                    <bk-option\r\n                                        v-for=\"(option, index) in list\"\r\n                                        :key=\"index\"\r\n                                        :id=\"option.id\"\r\n                                        :name=\"option.name\">\r\n                                    </bk-option>\r\n                                </bk-select>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label\">\r\n                                <label>{{i18n.desc}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"form-content\">\r\n                                <textarea\r\n                                    rows=\"4\"\r\n                                    class=\"package-desc\"\r\n                                    v-model=\"desc\"\r\n                                    @blur=\"onPackageDescBlur\">\r\n                                </textarea>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label\">\r\n                                <label>{{i18n.detail}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <table class=\"detail-table\">\r\n                                <tbody>\r\n                                    <tr v-for=\"field in detailFields\" :key=\"field.id\">\r\n                                        <th>{{field.name}}</th>\r\n                                        <td class=\"td-with-input\"\r\n                                            :class=\"{ 'error-border': errors.first('detailValue' + field.id) }\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                class=\"table-input\"\r\n                                                :name=\"'detailValue' + field.id\"\r\n                                                :placeholder=\"field.placeholder\"\r\n                                                v-model=\"details[field.id]\"\r\n                                                v-validate=\"valueRule\"\r\n                                                @blur=\"onDetailInputBlur(field.id)\">\r\n                                            <i class=\"bk-icon icon-info-circle common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>\r\n                            <div class=\"form-label\">\r\n                                <label>{{i18n.module}}</label>\r\n                            </div>\r\n                        </th>\r\n                        <td class=\"value\">\r\n                            <div class=\"module-table-wrapper\">\r\n                                <table class=\"module-table\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>{{i18n.subModule}}</th>\r\n                                            <th>{{i18n.version}}</th>\r\n                                            <th>{{i18n.importModule}}</th>\r\n                                            <th>{{i18n.operation}}</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for=\"(item, index) in packageValues\" :key=\"index\">\r\n                                            <td\r\n                                                :class=\"{ 'error-border': errors.first('moduleName' + index) }\"\r\n                                                class=\"td-with-input\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    class=\"table-input\"\r\n                                                    :name=\"'moduleName' + index\"\r\n                                                    :placeholder=\"i18n.placeholder\"\r\n                                                    v-model=\"item.key\"\r\n                                                    v-validate=\"packageNameRule\"\r\n                                                    @blur=\"onPackageInputBlur($event, 'key', index)\">\r\n                                                <i class=\"bk-icon icon-info-circle common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                            </td>\r\n                                            <td\r\n                                                :class=\"{ 'error-border': errors.first('moduleVersion' + index) }\"\r\n                                                class=\"td-with-input\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    class=\"table-input\"\r\n                                                    :name=\"'moduleVersion' + index\"\r\n                                                    :placeholder=\"i18n.placeholder\"\r\n                                                    v-model=\"item.version\"\r\n                                                    v-validate=\"valueRule\"\r\n                                                    @blur=\"onPackageInputBlur($event, 'version', index)\">\r\n                                                <i class=\"bk-icon icon-info-circle common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                            </td>\r\n                                            <td\r\n                                                :class=\"{ 'error-border': errors.first('modules' + index) }\"\r\n                                                class=\"td-with-input\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    class=\"table-input\"\r\n                                                    :name=\"'modules' + index\"\r\n                                                    :placeholder=\"i18n.importPlaceholder\"\r\n                                                    v-model=\"item.modules\"\r\n                                                    v-validate=\"valueRule\"\r\n                                                    @blur=\"onPackageInputBlur($event, 'modules', index)\">\r\n                                                <i class=\"bk-icon icon-info-circle common-error-tip\" v-bk-tooltips.top=\"i18n.required\"></i>\r\n                                            </td>\r\n                                            <td><bk-button v-if=\"packageValues.length > 1\" theme=\"default\" size=\"small\" class=\"delete-btn\" @click=\"onDeletePackage(index)\">{{i18n.delete}}</bk-button></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div class=\"add-module\">\r\n                                    <bk-button theme=\"default\" size=\"small\" class=\"add-btn\" @click=\"onAddPackage\">{{i18n.add}}</bk-button>\r\n                                </div>\r\n                                <div v-if=\"showModuleError\" class=\"common-error-tip error-msg\">{{i18n.required}}</div>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import '@/utils/i18n.js'\r\n    import { SOURCE_TYPE } from '@/constants/manage.js'\r\n    import { NAME_REG, STRING_LENGTH } from '@/constants/index.js'\r\n\r\n    export default {\r\n        name: 'PackageForm',\r\n        props: {\r\n            value: {\r\n                type: Object,\r\n                default () {\r\n                    return {\r\n                        id: undefined,\r\n                        name: '',\r\n                        type: 'git',\r\n                        desc: '',\r\n                        details: {\r\n                            repo_address: '',\r\n                            repo_raw_address: '',\r\n                            branch: ''\r\n                        },\r\n                        packages: {}\r\n                    }\r\n                }\r\n            },\r\n            sourceIndex: {\r\n                type: Number,\r\n                default: 0\r\n            }\r\n        },\r\n        data () {\r\n            const list = this.getSourceTypeList()\r\n            const { name, type, desc, details, packages } = this.value\r\n            const packageValues = this.getPackageValues(packages)\r\n            const [detailFields] = this.getSourceKeys(type)\r\n            return {\r\n                name,\r\n                type,\r\n                desc,\r\n                details,\r\n                packages,\r\n                list,\r\n                detailFields,\r\n                packageValues,\r\n                isSettingPanelShow: true,\r\n                showError: false, // 包源配置错误\r\n                showModuleError: false, // 模块配置错误\r\n                packageNameRule: { // 名称校验规则\r\n                    required: true,\r\n                    max: STRING_LENGTH.SOURCE_NAME_MAX_LENGTH,\r\n                    regex: NAME_REG\r\n                },\r\n                valueRule: {\r\n                    required: true\r\n                },\r\n                i18n: {\r\n                    sourceName: gettext('包源名'),\r\n                    noName: gettext('未命名'),\r\n                    delete: gettext('删除'),\r\n                    name: gettext('名称'),\r\n                    type: gettext('类型'),\r\n                    desc: gettext('描述'),\r\n                    detail: gettext('详细信息'),\r\n                    module: gettext('模块配置'),\r\n                    placeholder: gettext('请输入'),\r\n                    importPlaceholder: gettext('请输入模块绝对路径，如a.b.c，多个用,分隔'),\r\n                    subModule: gettext('子模块名称'),\r\n                    version: gettext('版本'),\r\n                    importModule: gettext('导入模块'),\r\n                    operation: gettext('操作'),\r\n                    add: gettext('添加'),\r\n                    errorMsg: gettext('输入有误，请展开检查'),\r\n                    required: gettext('必填项')\r\n                }\r\n            }\r\n        },\r\n        computed: {\r\n            isEditing () {\r\n                return typeof this.value.id === 'number'\r\n            }\r\n        },\r\n        methods: {\r\n            getSourceTypeList () {\r\n                return SOURCE_TYPE.map(item => {\r\n                    return {\r\n                        id: item.type,\r\n                        name: item.name\r\n                    }\r\n                })\r\n            },\r\n            getSourceKeys (type) {\r\n                const detailFields = []\r\n                const detailValues = {}\r\n\r\n                const source = SOURCE_TYPE.find(item => item.type === type)\r\n                for (const key in source.keys) {\r\n                    detailFields.push({\r\n                        id: key,\r\n                        name: source.keys[key].name,\r\n                        placeholder: source.keys[key].placeholder\r\n                    })\r\n                    detailValues[key] = ''\r\n                }\r\n                \r\n                return [detailFields, detailValues]\r\n            },\r\n            /**\r\n             * packages 的值由对象转为数组 packageValues\r\n             */\r\n            getPackageValues (packages) {\r\n                const values = []\r\n                if (JSON.stringify(packages) === '{}') {\r\n                    values.push({\r\n                        key: '',\r\n                        version: '',\r\n                        modules: ''\r\n                    })\r\n                }\r\n                for (const key in packages) {\r\n                    values.push({\r\n                        key: key,\r\n                        version: packages[key].version,\r\n                        modules: packages[key].modules.join(',')\r\n                    })\r\n                }\r\n                return values\r\n            },\r\n            /**\r\n             * packageValues 的值由数组转为对象 packages\r\n             */\r\n            getPackages () {\r\n                const packages = {}\r\n                this.packageValues.forEach(item => {\r\n                    if (item.key) {\r\n                        packages[item.key] = {\r\n                            version: item.version,\r\n                            modules: item.modules\r\n                        }\r\n                    }\r\n                })\r\n                return packages\r\n            },\r\n            updateValue (key, val) {\r\n                this.$emit('updateSource', key, val, this.sourceIndex)\r\n            },\r\n            validate () {\r\n                return this.$validator.validateAll().then(result => {\r\n                    if (this.packageValues.length === 0) {\r\n                        this.showModuleError = true\r\n                    }\r\n                    return result && !this.showModuleError\r\n                })\r\n            },\r\n            onTogglePanelShow () {\r\n                this.isSettingPanelShow = !this.isSettingPanelShow\r\n                if (!this.isSettingPanelShow) {\r\n                    this.validate().then(result => {\r\n                        if (!result) {\r\n                            this.showError = true\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.showError = false\r\n                }\r\n            },\r\n            onTypeSelect (type) {\r\n                this.type = type;\r\n                [this.detailFields, this.details] = this.getSourceKeys(type)\r\n                this.updateValue('type', this.type)\r\n                this.updateValue('details', this.details)\r\n            },\r\n            onAddPackage () {\r\n                this.packageValues.push({\r\n                    key: '',\r\n                    version: '',\r\n                    modules: []\r\n                })\r\n                this.showModuleError = false\r\n            },\r\n            /**\r\n             * 删除模块配置（只有一条时不显示删除按钮）\r\n             */\r\n            onDeletePackage (index) {\r\n                this.packageValues.splice(index, 1)\r\n                const packages = this.getPackages()\r\n                this.updateValue('packages', packages)\r\n                if (Object.keys(packages).length === 0) {\r\n                    this.showModuleError = true\r\n                }\r\n            },\r\n            onPackageNameBlur () {\r\n                this.updateValue('name', this.name)\r\n            },\r\n            onPackageDescBlur () {\r\n                this.updateValue('desc', this.desc)\r\n            },\r\n            onDetailInputBlur (field) {\r\n                this.updateValue('details', this.details)\r\n            },\r\n            onPackageInputBlur (e, type, index) {\r\n                const val = e.target.value\r\n                if (type === 'key') {\r\n                    this.packageValues[index].key = val\r\n                } else if (type === 'version') {\r\n                    this.packageValues[index].version = val\r\n                } else {\r\n                    const modules = val.split(',')\r\n                    this.packageValues[index].modules = modules\r\n                }\r\n\r\n                const packages = this.getPackages()\r\n                this.updateValue('packages', packages)\r\n            },\r\n            onDeleteSource () {\r\n                this.$emit('deleteSource')\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    @mixin input-verific-trigger {\r\n        input[aria-invalid=\"true\"] + .common-error-tip {\r\n            display: inline-block;\r\n        }\r\n        .common-error-tip {\r\n            display: none;\r\n            bottom: 0;\r\n        }\r\n    }\r\n    /deep/ .bk-select {\r\n        background-color: #ffffff;\r\n        &.is-disabled {\r\n            background-color: #fafafa;\r\n        }\r\n    }\r\n    .package-form {\r\n        margin-bottom: 30px;\r\n        background: #f0f1f5;\r\n        border-radius: 2px;\r\n    }\r\n    .form-header {\r\n        position: relative;\r\n        padding: 20px 20px 15px;\r\n        .title {\r\n            display: inline-block;\r\n            position: relative;\r\n            padding-left: 20px;\r\n            font-size: 14px;\r\n            font-weight: 700;\r\n            max-width: 300px;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            vertical-align: middle;\r\n            cursor: pointer;\r\n            &:hover {\r\n                color: #3a84ff;\r\n                &:before {\r\n                    border-color: #3a84ff transparent transparent transparent;\r\n                }\r\n            }\r\n            &.fold {\r\n                &:before {\r\n                    top: 7px;\r\n                    transform: rotate(-90deg);\r\n                }\r\n            }\r\n            &:before {\r\n                content: '';\r\n                position: absolute;\r\n                top: 8px;\r\n                left: 2px;\r\n                width: 0;\r\n                height: 0;\r\n                border-style: solid;\r\n                border-width: 6px 5px 0 5px;\r\n                border-color: #cccccc transparent transparent transparent;\r\n                transition: transform 0.3s ease-in-out;\r\n            }\r\n        }\r\n        .delete-btn {\r\n            position: absolute;\r\n            top: 22px;\r\n            right: 20px;\r\n            font-size: 12px;\r\n        }\r\n        .error-msg {\r\n            position: absolute;\r\n            top: 25px;\r\n            left: 350px;\r\n            font-size: 14px;\r\n            line-height: 1;\r\n            color: #ff5757;\r\n        }\r\n    }\r\n    .delete-btn,\r\n    .add-btn {\r\n        padding: 0;\r\n        background: transparent;\r\n        border: none;\r\n        color: #3a84ff;\r\n        height: auto;\r\n        line-height: initial;\r\n    }\r\n    .package-setting {\r\n        padding: 0 20px 20px;\r\n    }\r\n    .form-table {\r\n        width: 100%;\r\n        border-collapse: collapse;\r\n        font-size: 14px;\r\n        th, td {\r\n            padding: 10px;\r\n        }\r\n        th {\r\n            position: relative;\r\n            width: 16%;\r\n            color: #313238;\r\n            font-weight: 400;\r\n        }\r\n        .form-label {\r\n            padding-right: 20%;\r\n            text-align: right;\r\n            label {\r\n                position: relative;\r\n            }\r\n            &.required {\r\n                label:after {\r\n                    content: '*';\r\n                    position: absolute;\r\n                    top: 1px;\r\n                    right: -10px;\r\n                    color: #F00;\r\n                    font-family: \"SimSun\";\r\n                }\r\n            }\r\n            \r\n        }\r\n        .td-with-input {\r\n            &:hover{\r\n                border-style: double;\r\n                border-color: #3c96ff;\r\n            }\r\n            &.error-border {\r\n                border:1px double #ea3636;\r\n                &:hover {\r\n                    border-color: #ea3636;\r\n                }\r\n            }\r\n        }\r\n        @include input-verific-trigger;\r\n        .form-content {\r\n            position: relative;\r\n            width: 40%;\r\n        }\r\n        .package-name {\r\n            padding: 0 10px;\r\n            width: 100%;\r\n            height: 32px;\r\n            line-height: 32px;\r\n            border: 1px solid #c3cdd7;\r\n            border-radius: 2px;\r\n            color: #63656e;\r\n            outline: none;\r\n            &:hover {\r\n                border-color: #3c96ff;\r\n            }\r\n            &:active {\r\n                border-color: #3c96ff;\r\n            }\r\n            &.error-border {\r\n                border:1px double #ea3636;\r\n                &:hover {\r\n                    border-color: #ea3636;\r\n                }\r\n            }\r\n            &[disabled=\"disabled\"] {\r\n                color: #aaa;\r\n                cursor: not-allowed;\r\n                background: #fafafa;\r\n                &:hover {\r\n                    border-color: #c3cdd7;\r\n                }\r\n            }\r\n        }\r\n        .package-desc {\r\n            display: block;\r\n            padding: 10px;\r\n            width: 100%;\r\n            border: 1px solid #c3cdd7;\r\n            border-radius: 2px;\r\n            color: #63656e;\r\n            outline: none;\r\n            resize: vertical;\r\n            min-height: 102px;\r\n            max-height: 140px;\r\n            &:hover {\r\n                border-color: #3c96ff;\r\n            }\r\n            &:active {\r\n                border-color: #3c96ff;\r\n            }\r\n        }\r\n    }\r\n    .detail-table {\r\n        width: 100%;\r\n        font-size: 12px;\r\n        border-collapse: collapse;\r\n        background: #ffffff;\r\n        th,td {\r\n            position: relative;\r\n            padding: 10px 20px;\r\n            border: 1px solid #dde4eb;\r\n        }\r\n        th {\r\n            width: 30%;\r\n            font-weight: 700;\r\n            text-align: center;\r\n        }\r\n        @include input-verific-trigger;\r\n    }\r\n    .module-table-wrapper {\r\n        position: relative;\r\n    }\r\n    .module-table {\r\n        width: 100%;\r\n        font-size: 12px;\r\n        border-collapse: collapse;\r\n        background: #ffffff;\r\n        text-align: center;\r\n        th,td {\r\n            position: relative;\r\n            padding: 10px 20px;\r\n            border: 1px solid #dde4eb;\r\n        }\r\n        th {\r\n            font-weight: 700;\r\n            text-align: center;\r\n            &:nth-child(1),\r\n            &:nth-child(2),\r\n            &:nth-child(4) {\r\n                width: 16.66%;\r\n            }\r\n            &:nth-child(3) {\r\n                width: 50%;\r\n            }\r\n        }\r\n        input[aria-invalid=\"true\"] + .common-error-tip {\r\n            display: inline-block;\r\n        }\r\n        .common-error-tip {\r\n            display: none;\r\n            bottom: 0;\r\n        }\r\n        tbody {\r\n            td {\r\n                padding: 10px 20px;\r\n            }\r\n        }\r\n    }\r\n    .detail-table, .module-table {\r\n        .td-with-input {\r\n            &:hover{\r\n                border-style: double;\r\n                border-color: #3c96ff;\r\n            }\r\n            &.error-border {\r\n                border:1px double #ea3636;\r\n                &:hover {\r\n                    border-color: #ea3636;\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    .table-input {\r\n        width: 100%;\r\n        color: #63656e;\r\n        border: none;\r\n        outline: none;\r\n    }\r\n    .add-module {\r\n        height: 40px;\r\n        line-height: 40px;\r\n        font-size: 12px;\r\n        text-align: center;\r\n        color: #3a84ff;\r\n        background: #ffffff;\r\n        border: 1px solid #dde4eb;\r\n        border-top: none;\r\n    }\r\n    .common-error-tip {\r\n        position: absolute;\r\n        top: 50%;\r\n        right: 6px;\r\n        margin-top: -6px;\r\n        height: 6px;\r\n        font-size: 12px;\r\n        white-space: nowrap;\r\n    }\r\n</style>\r\n"],"sourceRoot":""}