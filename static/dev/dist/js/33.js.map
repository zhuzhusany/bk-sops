{"version":3,"sources":["webpack:///./src/pages/config/index.vue?863e","webpack:///./src/pages/config/index.vue?ab07","webpack:///./src/pages/config/index.vue?b84b","webpack:///./src/pages/config/index.vue","webpack:///./src/pages/config/index.vue?694b","webpack:///src/pages/config/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_node_modules_sass_loader_lib_loader_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_743677cf_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","i18n","title","directives","name","rawName","value","isLoading","configLoading","opacity","expression","executorLabel","attrs","clearable","model","callback","$$v","executor","content","executorTips","width","placements","alwaysUseExecutorLabel","size","alwaysUseExecutor","alwaysUseTips","theme","loading","pending","disabled","on","click","onSaveConfig","save","staticRenderFns","d","__webpack_exports__","r","_index_vue_vue_type_template_id_743677cf_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","_vuex","_errorHandler","data","gettext","created","getConfig","methods","_extends3","default","mapActions","_this","_asyncToGenerator3","_regenerator2","mark","_callee","resp","wrap","_context","prev","next","loadBizConfig","sent","result","always_use_executor","errorHandler","t0","finish","stop","_this2","_callee2","_context2","abrupt","trim","configBizExecutor","$bkMessage","message"],"mappings":"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","file":"dev/dist/js/33.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=743677cf&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=743677cf&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"config-page\"},[_c('div',{staticClass:\"list-wrapper-title\"},[_c('span',{staticClass:\"list-wrapper-border\"},[_vm._v(\"|\")]),_vm._v(\" \"),_c('span',{staticClass:\"page-title\"},[_vm._v(_vm._s(_vm.i18n.title))])]),_vm._v(\" \"),_c('div',{directives:[{name:\"bkloading\",rawName:\"v-bkloading\",value:({ isLoading: _vm.configLoading, opacity: 1 }),expression:\"{ isLoading: configLoading, opacity: 1 }\"}],staticClass:\"page-content\"},[_c('div',{staticClass:\"common-form-item\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.executorLabel))]),_vm._v(\" \"),_c('div',{staticClass:\"common-form-content\"},[_c('bk-input',{staticClass:\"bk-input-inline\",attrs:{\"clearable\":true},model:{value:(_vm.executor),callback:function ($$v) {_vm.executor=$$v},expression:\"executor\"}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips\",value:({\n                        content: _vm.i18n.executorTips,\n                        width: 300,\n                        placements: ['right']\n                    }),expression:\"{\\n                        content: i18n.executorTips,\\n                        width: 300,\\n                        placements: ['right']\\n                    }\"}],staticClass:\"bk-icon icon-info-circle desc-tooltip\"})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"common-form-item executor-switch\"},[_c('label',[_vm._v(_vm._s(_vm.i18n.alwaysUseExecutorLabel))]),_vm._v(\" \"),_c('div',{staticClass:\"common-form-content\"},[_c('bk-switcher',{attrs:{\"size\":\"small\"},model:{value:(_vm.alwaysUseExecutor),callback:function ($$v) {_vm.alwaysUseExecutor=$$v},expression:\"alwaysUseExecutor\"}}),_vm._v(\" \"),_c('i',{directives:[{name:\"bk-tooltips\",rawName:\"v-bk-tooltips\",value:({\n                        content: _vm.i18n.alwaysUseTips,\n                        placements: ['right']\n                    }),expression:\"{\\n                        content: i18n.alwaysUseTips,\\n                        placements: ['right']\\n                    }\"}],staticClass:\"bk-icon icon-info-circle desc-tooltip\"})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"operation-wrapper\"},[_c('bk-button',{attrs:{\"theme\":\"primary\",\"loading\":_vm.pending,\"disabled\":_vm.configLoading},on:{\"click\":_vm.onSaveConfig}},[_vm._v(_vm._s(_vm.i18n.save))])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=743677cf&scoped=true&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=743677cf&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=743677cf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"743677cf\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","/**\r\n* Tencent is pleased to support the open source community by making 蓝鲸智云PaaS平台社区版 (BlueKing PaaS Community\r\n* Edition) available.\r\n* Copyright (C) 2017-2019 THL A29 Limited, a Tencent company. All rights reserved.\r\n* Licensed under the MIT License (the \"License\"); you may not use this file except in compliance with the License.\r\n* You may obtain a copy of the License at\r\n* http://opensource.org/licenses/MIT\r\n* Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on\r\n* an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the\r\n* specific language governing permissions and limitations under the License.\r\n*/\r\n<template>\r\n    <div class=\"config-page\">\r\n        <div class=\"list-wrapper-title\">\r\n            <span class=\"list-wrapper-border\">|</span>\r\n            <span class=\"page-title\">{{i18n.title}}</span>\r\n        </div>\r\n        <div class=\"page-content\" v-bkloading=\"{ isLoading: configLoading, opacity: 1 }\">\r\n            <div class=\"common-form-item\">\r\n                <label>{{i18n.executorLabel}}</label>\r\n                <div class=\"common-form-content\">\r\n                    <bk-input class=\"bk-input-inline\" :clearable=\"true\" v-model=\"executor\"></bk-input>\r\n                    <i\r\n                        class=\"bk-icon icon-info-circle desc-tooltip\"\r\n                        v-bk-tooltips=\"{\r\n                            content: i18n.executorTips,\r\n                            width: 300,\r\n                            placements: ['right']\r\n                        }\">\r\n                    </i>\r\n                </div>\r\n            </div>\r\n            <div class=\"common-form-item executor-switch\">\r\n                <label>{{i18n.alwaysUseExecutorLabel}}</label>\r\n                <div class=\"common-form-content\">\r\n                    <bk-switcher v-model=\"alwaysUseExecutor\" size=\"small\"></bk-switcher>\r\n                    <i\r\n                        class=\"bk-icon icon-info-circle desc-tooltip\"\r\n                        v-bk-tooltips=\"{\r\n                            content: i18n.alwaysUseTips,\r\n                            placements: ['right']\r\n                        }\">\r\n                    </i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"operation-wrapper\">\r\n            <bk-button theme=\"primary\" @click=\"onSaveConfig\" :loading=\"pending\" :disabled=\"configLoading\">{{i18n.save}}</bk-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import '@/utils/i18n.js'\r\n    import { mapActions } from 'vuex'\r\n    import { errorHandler } from '@/utils/errorHandler.js'\r\n\r\n    export default {\r\n        name: 'configPage',\r\n        data () {\r\n            return {\r\n                executor: undefined,\r\n                pending: false,\r\n                alwaysUseExecutor: false,\r\n                configLoading: false,\r\n                i18n: {\r\n                    title: gettext('执行者配置'),\r\n                    executorLabel: gettext('任务执行者'),\r\n                    alwaysUseExecutorLabel: gettext('强制生效'),\r\n                    executorTips: gettext('该字段默认在非运维人员执行任务时生效，为空则从配置平台(CMDB)随机获取运维身份'),\r\n                    alwaysUseTips: gettext('开启后，所有任务都使用任务执行者身份来执行'),\r\n                    save: gettext('保存')\r\n                }\r\n            }\r\n        },\r\n        created () {\r\n            this.getConfig()\r\n        },\r\n        methods: {\r\n            ...mapActions('config/', [\r\n                'loadBizConfig',\r\n                'configBizExecutor'\r\n            ]),\r\n            async getConfig () {\r\n                this.configLoading = true\r\n                try {\r\n                    const resp = await this.loadBizConfig()\r\n                    if (resp.result) {\r\n                        this.executor = resp.data.executor\r\n                        this.alwaysUseExecutor = resp.data.always_use_executor\r\n                    } else {\r\n                        errorHandler(resp, this)\r\n                    }\r\n                } catch (e) {\r\n                    errorHandler(e, this)\r\n                } finally {\r\n                    this.configLoading = false\r\n                }\r\n            },\r\n            async onSaveConfig () {\r\n                if (this.pending) return\r\n                this.pending = true\r\n                this.executor = this.executor.trim()\r\n                try {\r\n                    const data = {\r\n                        executor: this.executor,\r\n                        always_use_executor: this.alwaysUseExecutor\r\n                    }\r\n                    const resp = await this.configBizExecutor(data)\r\n                    if (resp.result) {\r\n                        this.$bkMessage({\r\n                            message: gettext('保存成功'),\r\n                            theme: 'success'\r\n                        })\r\n                    } else {\r\n                        errorHandler(resp, this)\r\n                    }\r\n                } catch (e) {\r\n                    errorHandler(e, this)\r\n                } finally {\r\n                    this.pending = false\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '@/scss/config.scss';\r\n.config-page {\r\n    padding: 0px 60px 0 60px;\r\n    min-width: 1320px;\r\n    min-height: calc(100% - 50px);\r\n    background: #f4f7fa;\r\n    .list-wrapper-title {\r\n        height: 60px;\r\n        line-height: 60px;\r\n        border-bottom: 1px solid #dde4eb;\r\n    }\r\n    .list-wrapper-border {\r\n        color: #a3c5fd;\r\n    }\r\n    .page-title {\r\n        margin-left: 10px;\r\n        font-size: 14px;\r\n        font-weight: 600;\r\n        color: #313238;\r\n    }\r\n    .page-content {\r\n        margin: 30px 0;\r\n        padding: 30px 0 30px 35px;\r\n        background: #fff;\r\n        border:1px solid #dde4eb;\r\n    }\r\n    .base-input {\r\n        width: 500px;\r\n    }\r\n    .executor-switch {\r\n        margin: 30px 0 0 0;\r\n    }\r\n    .common-form-content {\r\n        margin-left: 160px;\r\n    }\r\n    .common-form-item > label {\r\n        width: 140px;\r\n        text-align: left;\r\n    }\r\n    .desc-tooltip {\r\n        color: #c4c6cc;\r\n        position: relative;\r\n        top: 3px;\r\n        left: 6px;\r\n    }\r\n    .force-tooltip {\r\n        position: relative;\r\n    }\r\n    .icon-info-circle:hover {\r\n        color: #f4aa1a\r\n    }\r\n    .bk-button {\r\n        width:140px;\r\n        height:32px;\r\n        line-height: 32px;\r\n    }\r\n    .bk-input-inline {\r\n        display: inline-block;\r\n        width: 500px;\r\n    }\r\n}\r\n</style>\r\n"],"sourceRoot":""}